{"version":3,"sources":["lib/latexit.js"],"names":["LatexIT","mode","imgnum","isFirefox","init","navigator","userAgent","toLowerCase","indexOf","pre","txt","match","replace","latex","html","htmlinline","render","tag","latexmode","eqn","window","document","getElementsByTagName","i","length","innerHTML","getAttribute","add","addEventListener","Function","attachEvent","scale","e","width","height"],"mappings":";AAkBA,IAAIA,EAAU,CACbC,KAAO,MACPC,OAAS,EACTC,WAAU,EACVC,KAAO,WAQGC,UAAUC,UAAUC,cACvBC,QAAQ,YAMfC,IAAM,SAASC,GAqBPA,OApBDA,EAAIC,MAAM,eAIfD,GADAA,EAAIA,EAAIE,QAAQ,UAAU,KAClBA,QAAQ,aAAa,IAS3BF,EAJa,OAAX,KAAKT,KAGL,KAAKE,UACD,iEAAoE,KAAKF,KAAK,UAAWS,EAAK,4DAE7F,wCAAyC,KAAKT,KAAK,UAAWS,EAAK,UAAaA,EAAK,YAAeA,EAAK,iCAGxG,wCAAyC,KAAKT,KAAK,UAAWS,EAAK,UAAYA,EAAI,kCAEvFA,GAGRG,MAAQ,SAASH,GACZI,IAAAA,EAAMC,EAgBHL,OAfJ,KAAKP,WACNW,EAAK,iEAAoE,KAAKb,KAAK,+BACnFc,EAAW,iEAAoE,KAAKd,KAAK,0CAGzFa,EAAK,wCAAyC,KAAKb,KAAK,0CACxDc,EAAW,wCAAyC,KAAKd,KAAK,oDAOhES,GADAA,GADAA,GADCA,EAAIA,EAAIE,QAAQ,8BAA+BG,IACxCH,QAAQ,kCAAkC,SAASE,EAAK,WACxDF,QAAQ,SAAS,MACjBA,QAAQ,gBAAgB,OAKjCI,OAAS,SAASC,EAAKC,GAEjB,IADDC,IAAAA,EAAMC,OAAOC,SAASC,qBAAqBL,GACtCM,EAAE,EAAGA,EAAEJ,EAAIK,OAAQD,IACxBL,EACDC,EAAII,GAAGE,UAAYzB,EAAQa,MAAMM,EAAII,GAAGE,WACF,SAA/BN,EAAII,GAAGG,aAAa,SAAyD,SAAnCP,EAAII,GAAGG,aAAa,cACrEP,EAAII,GAAGE,UAAYzB,EAAQS,IAAIU,EAAII,GAAGE,aAIzCE,IAAM,SAASV,EAAKC,QAEE,IAAZA,IAAyBA,GAAU,GAC1CE,OAAOQ,iBACTR,OAAOQ,iBAAiB,OAAQ,IAAIC,SAAS,mBAAmBZ,EAAI,MAAMC,EAAU,MAAK,GAExFE,OAAOU,YAAY,SAAU,IAAID,SAAS,mBAAmBZ,EAAI,MAAMC,EAAU,OAGpFa,MAAQ,SAASC,EAAED,GAElBC,EAAEC,MAAQD,EAAEC,MAAMF,EAClBC,EAAEE,OAAQF,EAAEE,OAAOH,IAIrB/B,EAAQI,OACRJ,EAAQ2B,IAAI","file":"latexit.2206d853.js","sourceRoot":"..","sourcesContent":["/*\r\n* LaTeX IT - JavaScript to Convert Latex within an HTML page into Equations\r\n* Copyright (C) 2009 William Bateman, 2008 Waipot Ngamsaad \r\n\r\n* This program is free software: you can redistribute it and/or modify\r\n* it under the terms of the GNU General Public License as published by\r\n* the Free Software Foundation, either version 3 of the License, or\r\n* (at your option) any later version.\r\n\r\n* This program is distributed in the hope that it will be useful,\r\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n* GNU General Public License for more details.\r\n\r\n* You should have received a copy of the GNU General Public License\r\n* along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\nvar LatexIT = {\r\n\tmode : 'gif',\r\n\timgnum : 0,\r\n\tisFirefox:false,\r\n\tinit : function() {\r\n\t\t// We need to review the support for SVG. Latest released versions are not supporting this as they should\r\n  \t\t//  if(document.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#BasicStructure\", \"1.1\"))\r\n\t\t//\t  this.mode='svg';\r\n\r\n    \t// browser name\r\n\t\t// svg support in FireFox is not allowing two images to occur currently on the same line. \r\n\t\t\r\n\t\tvar ua = navigator.userAgent.toLowerCase(); \r\n\t\tif(ua.indexOf(\"firefox\")!=-1)\r\n\t\t{\r\n      // this.isFirefox = true;\r\n\t\t}\r\n  },\r\n\r\n\tpre : function(txt) {\r\n\t\tif ( !txt.match(/<img.*?>/i) )\r\n\t\t{\r\n\t\t\t//Clean code\r\n\t\t\ttxt=txt.replace(/<br>/mgi,\"\");\r\n\t\t\ttxt=txt.replace(/<br \\/>/mgi,\"\");\r\n\t\t\t//Create img tag\r\n\t\t//\ttxt = \" <img src=\\\"http://latex.codecogs.com/\"+this.mode+\".latex?\"+ txt +\"\\\" /> \";\r\n\t\t//\ttxt = \" <object type=\\\"image/svg+xml\\\" width=\\\"20\\\" data=\\\"http://latex.codecogs.com/\"+this.mode+\".latex?\"+ txt +\"\\\" /> \";\r\n\t\t  \r\n\t\t  if(this.mode=='svg')  \r\n\t\t\t{\r\n\t\t\t\t// Best for Firefox\r\n\t\t\t\tif(this.isFirefox) \r\n\t\t\t\t\ttxt = \" <object type=\\\"image/svg+xml\\\" data=\\\"http://latex.codecogs.com/\"+this.mode+\".latex?\"+ txt +\"\\\" class=\\\"latex\\\" style=\\\"margin:0; padding:0; border:0\\\" /> \";\r\n\t\t\t\telse // Best for Chrome\r\n \t\t\t\t\ttxt = \" <img src=\\\"http://latex.codecogs.com/\"+this.mode+\".latex?\"+ txt +\"\\\" alt=\\\"\"+ txt +\"\\\" title=\\\"\"+ txt +\"\\\" border=\\\"0\\\" class=\\\"latex\\\" /> \";\r\n\t\t\t}\r\n\t\t\telse \r\n\t   \t  txt = \" <img src=\\\"http://latex.codecogs.com/\"+this.mode+\".latex?\"+ txt +\"\\\" alt=\\\"\"+txt+\"\\\" border=\\\"0\\\" class=\\\"latex\\\" /> \";\r\n\t\t}\r\n\t\treturn txt;\r\n\t},\r\n\t\r\n\tlatex : function(txt) {\r\n\t\tvar html, htmlinline;\r\n\t\tif(this.isFirefox) {\r\n\t\t  html=\" <object type=\\\"image/svg+xml\\\" data=\\\"http://latex.codecogs.com/\"+this.mode+\".latex?$2\\\" class=\\\"latex\\\" /> \";\r\n\t\t  htmlinline=\" <object type=\\\"image/svg+xml\\\" data=\\\"http://latex.codecogs.com/\"+this.mode+\".latex?\\\\inline $2\\\" class=\\\"latex\\\" /> \";\r\n\t\t}\r\n\t\telse {\r\n\t\t  html=\" <img src=\\\"http://latex.codecogs.com/\"+this.mode+\".latex?$2\\\" border=\\\"0\\\" class=\\\"latex\\\" /> \";\r\n\t\t  htmlinline=\" <img src=\\\"http://latex.codecogs.com/\"+this.mode+\".latex?\\\\inline $2\\\" border=\\\"0\\\" class=\\\"latex\\\" /> \";\r\n\t\t}\r\n\t\r\n\t\r\n\t  txt=txt.replace(/(^\\$|[^\\\\]\\$)(.*?[^\\\\])\\$/gm, htmlinline);\r\n\t\ttxt=txt.replace(/(^\\\\|[^\\\\]\\\\)\\[(.*?[^\\\\])\\\\\\]/mg,\" <br/>\"+html+\"<br/> \"); \r\n\t\ttxt=txt.replace(/\\\\\\$/mg,\"\\$\"); \r\n\t\ttxt=txt.replace(/\\\\\\\\(\\[|\\])/mg,\"$1\");\r\n\t\t\r\n\t\treturn txt;\r\n\t},\t\r\n\t\r\n\trender : function(tag, latexmode) {\r\n\t\tvar eqn = window.document.getElementsByTagName(tag);\r\n\t\tfor (var i=0; i<eqn.length; i++) {\r\n\t\t\tif(latexmode)\r\n\t\t\t  eqn[i].innerHTML = LatexIT.latex(eqn[i].innerHTML);\r\n\t\t\telse if (eqn[i].getAttribute(\"lang\") == \"latex\" || eqn[i].getAttribute(\"xml:lang\") == \"latex\") \r\n\t\t\t  eqn[i].innerHTML = LatexIT.pre(eqn[i].innerHTML);\r\n\t\t} \r\n\t},\r\n\r\n  add : function(tag, latexmode)\r\n\t{\r\n\t\tif(typeof(latexmode)=='undefined') latexmode=false; \r\n\t\tif(window.addEventListener) \r\n\t\t\twindow.addEventListener('load', new Function('LatexIT.render(\"'+tag+'\", '+latexmode+')'),false);\r\n\t\telse \r\n\t\t  window.attachEvent('onload', new Function('LatexIT.render(\"'+tag+'\", '+latexmode+')') );\r\n\t},\r\n\r\n\tscale : function(e,scale)\r\n\t{\r\n\t\te.width =(e.width*scale);\r\n\t\te.height=(e.height*scale);\r\n\t}\r\n};\r\n\r\nLatexIT.init();\r\nLatexIT.add('*');"]}